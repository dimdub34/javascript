<!DOCTYPE html>
<html lang="fr" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Ballon</title>
        <style media="screen">
            body {
                background-color: lightgray;
            }
            main {
                width: 1024px;
                margin: auto;
                padding: 20px;
                background-color: white;
            }
            .row {
                width: 100%;
                text-align: center;
            }
        </style>
    </head>
    <body>
        <main>
            <div class="row" style="min-height: 350px;">
                <h1>Ballon</h1>
                <p>
                    Gonflez le ballon.  <br>
                    Le ballon accepte au maximum 20 injections. <br>
                    A chaque injection le ballon peut exploser. <br>
                    Si le ballon n'explose pas vous gagnez, sinon vous perdez.<br>
                    Bonne chance !!!
                </p>
                <p style="font-weight: bold">Nombre d'injections : <span id="nb_injections_out">0</span></p>
                <img src="img/balloon.png" alt="Ballon" width="100" id="ballon">
                <p id="result" style="font-size: 1.5em; font-weight: bold"></p>
            </div>
            <div class="row">
                <button type="button" onclick="gonfler()">Gonfler le ballon</button>
            </div>
        </main>
        <script>
            let ballon = document.querySelector("#ballon");
            let nb_injections = 0;
            let nb_injections_out = document.querySelector("#nb_injections_out");
            let btn_gonfler = document.querySelector("button");
            let explosion = Math.floor(Math.random() * 21);
            let result = document.querySelector("p#result");

            function gonfler() {
                nb_injections += 1;
                nb_injections_out.textContent = nb_injections;
                if (nb_injections == explosion) {
                    ballon.src = "img/explosion.png";
                    btn_gonfler.disabled = true;
                    result.textContent = "Perdu !";
                    result.style.color = "red";
                } else {
                    ballon.width += 2;
                }
                if (nb_injections == 20) {
                    btn_gonfler.disabled = true;
                    result.textContent = "Gagn√© !";
                    result.style.color = "green";
                }
            }
        </script>
    </body>
</html>
